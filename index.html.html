<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jar for Nithya</title>
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Indie Flower', cursive;
      background: #fffaf3;
      color: #5c4a3d;
      text-align: center;
      padding: 2em;
    }
    h1 {
      font-size: 2.5em;
      margin-bottom: 0.5em;
    }
    button {
      background: #fce4ec;
      border: none;
      padding: 1em 2em;
      margin: 1em;
      font-size: 1.2em;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s, transform 0.1s;
      position: relative;
    }
    button:hover:not(:disabled) {
      background: #f8bbd0;
      transform: scale(1.05);
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    .sparkle {
      position: relative;
      animation: sparkleGlow 1.5s infinite alternate;
    }
    @keyframes sparkleGlow {
      0% { box-shadow: 0 0 5px #ffd1dc, 0 0 10px #ffb6c1; }
      100% { box-shadow: 0 0 15px #ff69b4, 0 0 25px #ffb6c1; }
    }
    button[title]:hover::after {
      content: attr(title);
      position: absolute;
      bottom: -2.2em;
      left: 50%;
      transform: translateX(-50%);
      background: #5c4a3d;
      color: #fffaf3;
      padding: 0.3em 0.6em;
      font-size: 0.9em;
      border-radius: 5px;
      white-space: nowrap;
    }

    /* Dim background for overlay */
    #overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.4);
      display: none;
      z-index: 5;
    }

    /* Centered message box */
    #messageBox {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.5em;
      padding: 1em;
      background: #fff0f5;
      border-radius: 10px;
      max-width: 80%;
      display: none;
      animation: popFade 0.5s ease forwards;
      z-index: 10;
      white-space: pre-wrap;
    }
    #timer {
      margin-top: 1em;
      font-size: 1em;
      color: #a1887f;
    }
    @keyframes popFade {
      0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
      60% { transform: translate(-50%, -50%) scale(1.05); opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1); }
    }
  </style>
</head>
<body>
  <h1>ğŸ Jar for Nithya</h1>
  <p>For every mood, moment & meltdownâ€”pull a note ğŸ’Œâœ¨</p>

  <button onclick="openCategory('throwback')">ğŸ•° Open This When You Need a Throwback</button>
  <button onclick="openCategory('lost')">ğŸ§­ Open This When Youâ€™re Feeling Lost</button>
  <button onclick="openCategory('matter')">ğŸ’– Open This When You Forget How Much You Matter</button>
  <button id="birthdayBtn" onclick="openCategory('birthday')">ğŸ‚ Open This On Your Birthday</button>
  <button onclick="openCategory('safePlace')">ğŸ›‹ Open This When Youâ€™re Missing Your Safe Place</button>

  <div id="overlay" onclick="closeMessage()"></div>
  <div id="messageBox"></div>
  <div id="timer"></div>

  <script>
    const messages = {
      throwback: [
        "That unexpected New Year sleepover? Still one of the best nights of my life. Youâ€™re the first friend to ever stay over. Iâ€™ll never forget it. ğŸ’«",
        "We were just classmates in 10th. If someone had told me then that you'd become this important to meâ€¦ I wouldâ€™ve laughed. But look at us now.",
        "Our gangâ€”me, you, Thej, and Thanyaâ€”weâ€™re the weirdest blend of logic and delulu. But somehowâ€¦ it works perfectly.",
        "I still laugh thinking about all the random plans, cancelled plans, and â€œwish we were oooâ€ group moments. Us is a core memory.",
        "The 50th foundation ceremony? ICONIC. From fighting Kulazhini the cringe to sash supremacyâ€”that was OUR moment. We werenâ€™t just alumniâ€”we were legends.",
        "â€œPaper badge that says 2024â€... girl, I still gag. You saved that event by just being YOU.",
        "Remember that alumni group chat we flooded to make sashes a reality? We were on FIRE. Voice messages back to back, just manifesting the parade we deserved.",
        "Old Students Day 2024 hit harder because I knew 2025 wouldnâ€™t have all 4 of us. Thatâ€™s why itâ€™s unforgettable.",
        "Burma & Nila Day Freshâ€”our classic hangout spots. Forever bookmarked in my head as safe places with you.",
        "Thejaâ€™s surprise party? Pure chaos and pure love. I still canâ€™t believe we pulled that off so smoothly.",
        "My own surprise bday partyâ€”you all thought you fooled me ğŸ˜ but I was two steps ahead. Still, itâ€™s one of the BEST birthdays of my life.",
        "Your birthday? Girl, I literally ruined the surprise by leaving my slippers out and letting my mom accidentally expose me ğŸ˜‚ but it was worth every second.",
        "From classmate to best friendâ€”thatâ€™s a level-up I never saw coming, but now I can't imagine life without."
      ],
      lost: [
        "I know thereâ€™ll be lonely days, but remember: youâ€™re never truly alone.",
        "Every time you doubt yourself, reread this: I believe in you more than words could ever say.",
        "Please donâ€™t forgetâ€”your worth was never based on wins or scholarships. Itâ€™s just you.",
        "I hope you lose yourself in joy, and find yourself in growth.",
        "Every time you told me â€œyou could do better than this,â€ I heard it even when I pretended not to.",
        "The future might be unknown, but Iâ€™m certain youâ€™re going to own it.",
        "âœ‰ Note: When You Miss Home â€” Hey you, Right now, everything might feel a bit too quiet, a little too unfamiliar. Maybe youâ€™re missing the mess, the laughter, the peopleâ€”us. Thatâ€™s completely okay. But listenâ€”home didnâ€™t stay back in India. Home is in your laugh. In the songs you hum while doing nothing. In the way you reply â€œbruhhâ€ when I send something dumb. Itâ€™s in the scent of that perfume you gave meâ€”the one I wear every day. Itâ€™s in the flashes of New Yearâ€™s Eve memories, our hangouts, the playful chaos, and our shared talent for judging people ğŸ˜‚ Itâ€™s in that unexpected night you stayed overâ€¦ my first ever sleepover with a friend. And above allâ€” Home is in hearts that love you. Which meansâ€¦ a piece of it is always with you. Me. So cry a little, scroll for comfort, binge a silly videoâ€”whatever helps. But never forget: Youâ€™re tougher than distance, braver than doubt, and stronger than this moment. And when youâ€™re ready to take on everything again, youâ€™ll do it exactly like you always doâ€” Bold. Brilliant. Unstoppable. Justâ€¦ Nithya. With all my heart, Bava ğŸ’™"
      ],
      matter: [
        "I still remember the first time I realized you trusted me. That hit different.",
        "Thank you for never sugarcoating truthâ€”but never forgetting kindness.",
        "Thank you for believing in me when I didnâ€™t.",
        "Thank you for being home when nothing else felt right.",
        "Thank you for existing in my life. Nothing has been the same since.",
        "Even your silences were comforting, not awkward.",
        "Youâ€™re bold enough to lead and kind enough to never leave me behind.",
        "You make me feel understood, even when I donâ€™t say a thing.",
        "I still remember how your advice helped me with mom. It wasnâ€™t just adviceâ€”it was healing. And it still works.",
        "That perfume set you gave me? I wear it every day. Itâ€™s more than a scentâ€”itâ€™s a feeling, a connection, a memory of YOU."
      ],
      birthday: [
        "Hei Nithya!!! If you are opening this message, then it must be your birthday!! HAPPY 19TH BIRTHDAY, YOU BEAUTIFUL SOUL!!! It has been 2 months since you left, but honestlyâ€¦ you still feel weirdly present all the time lmaooo. Popping into my head at random moments like, â€œugh, what would Nithya say nowâ€ ğŸ˜¤ This yearâ€™s gift? ğŸ˜ Just wait for it! You are seriously going to LOVE it!! Stay tuned to social media ğŸ‘€ğŸ’™ What are your plans?? I am assuming you have a party there with your new friends, some cake-cutting, lots of selfies, and definitely someone playing your favorite songs on repeat!! And heyâ€¦ Last yearâ€™s surprise? Still one of my favorite memories ğŸ’™ (Short, sweet, and slightly chaoticâ€”just like you.) Wherever you are and whoever you are with today, Just know I am cheering for youâ€”loudly, dramatically, always. Happy Birthday again, Nithya! Go live your main character day ğŸ’« With all my love ~ Bava"
      ],
      safePlace: [
        "Youâ€™re like an anime protagonist I would fangirl over, but you're real, and you're mine.",
        "This isnâ€™t â€œgoodbye.â€ Itâ€™s just a â€œsee you after youâ€™ve conquered the world.â€",
        "You listen to my silence better than anyone else listens to my words.",
        "ğŸ“§ Jar Note: Open Gmail when you're missing me ğŸ˜¤ the feedback mail on our last day? those were real..you are my savior ",
        "On that final school evening, I typed something I couldnâ€™t say. Not just lines, but real pieces of what we built. That letter holds every emotion I couldn't explainâ€”growth, chaos, comfort, admiration. Search â€œBavni Artistâ€ in your inbox. Let those paragraphs hug you again. Let the memories scream louder than silence. And when youâ€™re done? Laugh. Cry. Sigh. But donâ€™t ever forgetâ€” Youâ€™re still my person. Still my safe place. Still one voice message away. â€” Bava ğŸ’™",
        "I love that you act all cool and 'ugh' but deep down you're soft pudding."
      ]
    };

    const shownMessages = JSON.parse(localStorage.getItem('shownMessages')) || {};
    const lastOpened = JSON.parse(localStorage.getItem('lastOpened')) || {};

    const birthdayBtn = document.getElementById('birthdayBtn');
    const today = new Date();
    const birthdayDate = new Date(today.getFullYear(), 9, 25);
    if (today < birthdayDate) {
      birthdayBtn.disabled = true;
      birthdayBtn.title = "Patienceâ€¦ youâ€™ll see this after Oct 25 ğŸ˜‰";
    }
    const oneWeekBefore = new Date(birthdayDate);
    oneWeekBefore.setDate(birthdayDate.getDate() - 7);
    if (today >= oneWeekBefore && today < birthdayDate) {
      birthdayBtn.classList.add("sparkle");
    }

    function openCategory(category) {
      const now = new Date();
      const lastTime = new Date(lastOpened[category] || 0);
      const diff = now - lastTime;

      if (diff < 86400000) {
        const hoursLeft = Math.ceil((86400000 - diff) / 3600000);
        document.getElementById('messageBox').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
        document.getElementById('timer').innerText = `â³ You can open another message in ${hoursLeft} hour(s).`;
        return;
      }

      const available = messages[category].filter(msg => !(shownMessages[category] || []).includes(msg));
      if (available.length === 0) {
        shownMessages[category] = [];
        available.push(...messages[category]);
      }

      const randomMsg = available[Math.floor(Math.random() * available.length)];
      shownMessages[category] = [...(shownMessages[category] || []), randomMsg];
      lastOpened[category] = now;

      localStorage.setItem('shownMessages', JSON.stringify(shownMessages));
      localStorage.setItem('lastOpened', JSON.stringify(lastOpened));

      const messageBox = document.getElementById('messageBox');
      const overlay = document.getElementById('overlay');
      messageBox.style.display = 'block';
      overlay.style.display = 'block';
      messageBox.style.animation = 'none';
      void messageBox.offsetWidth;
      messageBox.innerText = randomMsg;
      messageBox.style.animation = 'popFade 0.5s ease forwards';

      document.getElementById('timer').innerText = "Come back tomorrow for another ğŸ’Œ";
    }

    function closeMessage() {
      document.getElementById('messageBox').style.display = 'none';
      document.getElementById('overlay').style.display = 'none';
    }
  </script>
</body>
</html>
